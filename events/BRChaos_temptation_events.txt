##I'm making a new chaos temptation event just so I don't over-write the work of Pietrko - my version will probably be a bit "simpler" in that I don't fully understand the 
##dice roll event and how it works, but the basic intentions/effects should be very similar and I'll re-use many of his initial temptation scripts, just simplified a little

namespace = cultist

##NURGLE CALLS TO YOU##
character_event = {
    id = cultist.1
    desc = "In your dreams Nurgle, Lord of Death and Decay calls to you... 'The world is falling, it is corrupt, dying... embrace it, my child... embrace your destiny...' you hear a voice calling, and maggots crawl up from the ground, greeting you..." 
    picture = "GFX_evt_nurgle"
    min_age = 16
    capable_only = yes
   
   trigger = {
        trait = creature_human
        NOT = { 
            OR = {
                religion_group = chaos_gods_group
                has_character_flag = hidden_cultist_nurgle
                has_character_flag = hidden_cultist_slaanesh
                has_character_flag = hidden_cultist_tzeenth
                has_character_flag = hidden_cultist_khorne
                has_character_flag = hidden_cultist_undivided
				has_character_flag = refusedcallofchaos
            }
        }
            OR = {
                trait = pneumonic
                trait = syphilitic
                trait = has_green_pox
                trait = has_red_pox
                trait = has_tomb_rot
                trait = has_creeping_buboes
                trait = has_rattlelung
                trait = has_bone_auge
				trait = has_nurgles_rot
				trait = weak
				trait = ill
				trait = wounded
				trait = infirm
				trait = sickly
            }
			
			}
			
   mean_time_to_happen = {
        years = 40

        # Virtue dependent modifers 
        modifier = {
            factor = 0.8
            trait = envious
        }
        modifier = {
            factor = 0.7
            trait = slothful
        }
        modifier = {
            factor = 1.3
            trait = diligent
        }
        modifier = {
            factor = 0.9
            trait = greedy
        }
        modifier = {
            factor = 0.9
            trait = gluttonous
        }
		modifier = {
            factor = 0.7
            trait = kind
        }

        # Personality dependent modifiers    
        modifier = {
            factor = 0.8
            trait = content
        }
        modifier = {
            factor = 0.9
            trait = deceitful
        }
        modifier = {
            factor = 1.2
            trait = just
        }
        modifier = {
            factor = 0.9
            trait = arbitrary
        }
        modifier = {
            factor = 0.9
            trait = cynical
        }
        modifier = {
            factor = 0.6
            trait = craven
        }
        modifier = {
            factor = 1.4
            trait = brave
        }
        # Lifestyle depedent modifier
        # none for nurgle (maybe gardener?)
        #
        # mutations, Tzeentch like mutation more than others
        modifier = {
            factor = 0.3
            OR = {
                trait = mutation_minor
                trait = mutation_major
                trait = mutation_massive
            }
        }
        # situation dependent ill characters are Nurgle's favourites
        modifier = {
            factor = 0.2
            OR = {
                trait = pneumonic
                trait = syphilitic
                trait = has_green_pox
                trait = has_red_pox
                trait = has_tomb_rot
                trait = has_creeping_buboes
                trait = has_rattlelung
                trait = has_bone_auge
            }
        }
        modifier = {
            factor = 0.05
            trait = has_nurgles_rot
        }
        modifier = {
            factor = 1.2
            health = 5
        }
		# magic users more likely to fall 
        modifier = {
            factor = 0.8
            OR = {
                trait = magic_power_adept
                trait = magic_power_magister
                trait = magic_power_lord
                trait = magic_power_archmaster
            }
        }
        # Nurgle favors weakness
        modifier = { 
            factor = 0.9
            trait = weak
            trait = ill
            trait = wounded
            trait = infirm
            trait = sickly
        }
    }
	
	option = {
	name = "I'll never serve Nurgle!"
	set_character_flag = refusedcallofchaos
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = brave
      }
      modifier = {
         factor = 4.0
         trait = zealous
      }
      modifier = {
         factor = 2.0
         trait = strong
      }
      modifier = {
         factor = 2.0
         trait = just
      }
      modifier = {
         factor = 2.0
         trait = content
      }
      modifier = {
         factor = 2.0
         trait = diligent
      }
   }

}   

	option = {
	name = "I'll serve Nurgle!"
	set_character_flag = hidden_cultist_nurgle
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = craven
      }
      modifier = {
         factor = 2.0
         trait = arbitrary
      }
      modifier = {
         factor = 2.0
         trait = weak
      }
      modifier = {
         factor = 2.0
         trait = deceitful
      }
      modifier = {
         factor = 2.0
         trait = cynical
      }
      modifier = {
         factor = 4.0
         trait = lunatic
      }
   }

}

}   

##SLAANESH CALLS TO YOU##
character_event = {
    id = cultist.2
    desc = "In your dreams Slaanesh, Lord of Lust, Greed, Pleasure, and Pain comes to you... 'Pleasure and pain undying, eternal life, eternal beauty...' you hear a voice calling and an almost irresistable daemoness approaches you..." 
    picture = "GFX_evt_slaanesh"
    min_age = 16
    capable_only = yes
   
   trigger = {
        trait = creature_human
        NOT = { 
            OR = {
                religion_group = chaos_gods_group
                has_character_flag = hidden_cultist_nurgle
                has_character_flag = hidden_cultist_slaanesh
                has_character_flag = hidden_cultist_tzeenth
                has_character_flag = hidden_cultist_khorne
                has_character_flag = hidden_cultist_undivided
				has_character_flag = refusedcallofchaos
            }
        }
            OR = {
                trait = lustful
                trait = cruel
                trait = hedonist
                trait = fair
            }
			
			}
			
   mean_time_to_happen = {
        years = 40

       # Virtue dependent modifers 
        modifier = {
            factor = 0.4
            trait = lustful
        }
        modifier = {
            factor = 1.4
            trait = chaste
        }
        modifier = {
            factor = 0.9
            trait = envious
        }
        modifier = {
            factor = 0.7
            trait = proud
        }
        modifier = {
            factor = 0.6
            trait = gluttonous
        }
        modifier = {
            factor = 1.3
            trait = temperate
        }
        modifier = {
            factor = 1.3
            trait = humble
        }

        # Personality dependent modifiers    
        modifier = {
            factor = 0.9
            trait = brave
        }
        modifier = {
            factor = 0.9
            trait = ambitious
        }
        modifier = {
            factor = 0.7
            trait = cruel
        }
        modifier = {
            factor = 1.2
            trait = kind
        }

        modifier = {
            factor = 0.9
            trait = deceitful
        }
        modifier = {
            factor = 0.9
            trait = arbitrary
        }
        modifier = {
            factor = 0.9
            trait = cynical
        }
        # Lifestyle depedent modifier
        modifier = {
            factor = 0.6
            trait = hedonist
        }
        modifier = {
            factor = 0.9
            trait = poet
        }
        modifier = {
            factor = 1.2
            trait = just
        }
        modifier = {
            factor = 0.8
            trait = impaler
        }
		modifier = {
            factor = 1.8
            trait = celibate
        }
		
        # Slaanesh favors beauty
        modifier = {
            factor = 0.7
            trait = fair
        }
        modifier = {
            factor = 1.3
            trait = ugly
        }
		# magic users more likely to fall 
        modifier = {
            factor = 0.8
            OR = {
                trait = magic_power_adept
                trait = magic_power_magister
                trait = magic_power_lord
                trait = magic_power_archmaster
            }
        }

    }
	
	option = {
	name = "I'll never serve Slaanesh!"
	set_character_flag = refusedcallofchaos
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = brave
      }
      modifier = {
         factor = 4.0
         trait = zealous
      }
      modifier = {
         factor = 2.0
         trait = strong
      }
      modifier = {
         factor = 2.0
         trait = just
      }
      modifier = {
         factor = 2.0
         trait = content
      }
      modifier = {
         factor = 2.0
         trait = diligent
      }
      modifier = {
         factor = 2.0
         trait = chaste
      }
   }

}   

	option = {
	name = "I'll serve Slaanesh!"
	set_character_flag = hidden_cultist_slaanesh
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = craven
      }
      modifier = {
         factor = 2.0
         trait = arbitrary
      }
      modifier = {
         factor = 2.0
         trait = weak
      }
      modifier = {
         factor = 2.0
         trait = deceitful
      }
      modifier = {
         factor = 2.0
         trait = cynical
      }
      modifier = {
         factor = 2.0
         trait = lustful
      }
      modifier = {
         factor = 2.0
         trait = hedonist
      }
      modifier = {
         factor = 4.0
         trait = lunatic
      }
   }

}

}

##TZEENTH CALLS TO YOU##
character_event = {
    id = cultist.3
    desc = "In your dreams Tzeentch, Lord of Change, Architect of Fate comes to you... 'Power, eternal life, dominion over all...' you hear a voice calling you see before you a grand destiny, if only you would serve him..." 
    picture = "GFX_evt_tzeentch"
    min_age = 16
    capable_only = yes
   
   trigger = {
        trait = creature_human
        NOT = { 
            OR = {
                religion_group = chaos_gods_group
                has_character_flag = hidden_cultist_nurgle
                has_character_flag = hidden_cultist_slaanesh
                has_character_flag = hidden_cultist_tzeenth
                has_character_flag = hidden_cultist_khorne
                has_character_flag = hidden_cultist_undivided
				has_character_flag = refusedcallofchaos
            }
        }
            OR = {
                trait = envious
                trait = cruel
                trait = ambitious
                trait = mystic
				trait = magic_power_adept
                trait = magic_power_magister
                trait = magic_power_lord
                trait = magic_power_archmaster
				learning = 12
				intrigue = 15
            }
			
			}
			
   mean_time_to_happen = {
        years = 40

       # Virtue dependent modifers 
        modifier = {
            factor = 0.8
            trait = envious
        } 
        modifier = { 
            factor = 1.2
            trait = kind
        }
		modifier = { 
            factor = 0.8
            trait = diligent
        }
		modifier = { 
            factor = 0.6
            trait = patient
        }
        # Personality dependent modifiers    
        modifier = {
            factor = 0.7
            trait = ambitious
        }
        modifier = {
            factor = 0.7
            trait = cruel
        }
        modifier = {
            factor = 0.5
            trait = deceitful
        } 
        modifier = {
            factor = 1.4
            trait = honest
        }
        modifier = {
            factor = 0.9
            trait = arbitrary
        }
        modifier = {
            factor = 1.2
            trait = just
        }
        modifier = {
            factor = 0.9
            trait = cynical
        }
        # Lifestyle depedent modifier
        modifier = {
            factor = 0.8
            trait = scholar
        }
        modifier = {
            factor = 0.8
            trait = mystic
        }

        
        # Mutation
        modifier = {
            factor = 0.2
            OR = {
                trait = mutation_minor
                trait = mutation_major
                trait = mutation_massive
            }
        }
        # Tzeenth favors magic power
        modifier = {
            factor = 0.6
            OR = {
                trait = magic_power_adept
                trait = magic_power_magister
                trait = magic_power_lord
                trait = magic_power_archmaster
            }
        }
        # And intellect
        modifier = {
            factor = 0.8
            OR = {
                learning = 10
                intrigue = 10
            }
        }
        modifier = {
            factor = 0.8
            OR = {
                learning = 15
                intrigue = 15
            }
        }


    }
	
	option = {
	name = "I'll never serve Tzeentch!"
	set_character_flag = refusedcallofchaos
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = brave
      }
      modifier = {
         factor = 4.0
         trait = zealous
      }
      modifier = {
         factor = 2.0
         trait = strong
      }
      modifier = {
         factor = 2.0
         trait = just
      }
      modifier = {
         factor = 2.0
         trait = content
      }
      modifier = {
         factor = 2.0
         trait = diligent
      }
   }

}   

	option = {
	name = "I'll serve Tzeentch!"
	set_character_flag = hidden_cultist_tzeentch
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = ambitious
      }
      modifier = {
         factor = 2.0
         trait = arbitrary
      }
      modifier = {
         factor = 2.0
         trait = deceitful
      }
      modifier = {
         factor = 2.0
         trait = cynical
      }
      modifier = {
         factor = 2.0
         trait = mystic
      }
      modifier = {
         factor = 4.0
         trait = lunatic
      }
   }

}

}

##KHORNE CALLS TO YOU##
character_event = {
    id = cultist.4
    desc = "In your dreams Khorne, God of Anger, Violence, and Hate comes to you... 'War - war unending, bloodshed eternal, glory undying...' you hear a voice calling you, and a vision of yourself as the greatest warlord of the age appears..." 
    picture = "GFX_evt_khorne"
    min_age = 16
    capable_only = yes
   
   trigger = {
        trait = creature_human
        NOT = { 
            OR = {
                religion_group = chaos_gods_group
                has_character_flag = hidden_cultist_nurgle
                has_character_flag = hidden_cultist_slaanesh
                has_character_flag = hidden_cultist_tzeenth
                has_character_flag = hidden_cultist_khorne
                has_character_flag = hidden_cultist_undivided
				has_character_flag = refusedcallofchaos
            }
        }
            OR = {
                trait = impaler
                trait = cruel
                martial = 15
				trait = strong
            }
			
			}
			
   mean_time_to_happen = {
        years = 40

       # Virtue dependent modifers 
        modifier = {
            factor = 0.9
            trait = envious
        }
        modifier = {
            factor = 0.8
            trait = proud
        }
        modifier = {
            factor = 0.5
            trait = wroth
        }
        modifier = {
            factor = 1.5
            trait = patient
        }
        # Personality dependent modifiers    
        modifier = {
            factor = 0.9
            trait = ambitious
        }
        modifier = {
            factor = 0.6
            trait = brave
        }
        modifier = {
            factor = 0.6
            trait = cruel
        }
        modifier = {
            factor = 1.4
            trait = kind
        }
        modifier = {
            factor = 1.1
            trait = temperate
        }
        modifier = {
            factor = 0.9
            trait = arbitrary
        }
        modifier = {
            factor = 0.8
            trait = cynical
        }
        modifier = {
            factor = 1.2
            trait = just
        }
        modifier = {
            factor = 1.4
            trait = craven
        }
        # Lifestyle depedent modifier
        modifier = {
            factor = 0.8
            trait = monster_hunter
        }
        modifier = {
            factor = 0.8
            trait = hunter
        }
        modifier = {
            factor = 0.7
            trait = duelist
        }
        modifier = {
            factor = 0.6
            trait = impaler
        }
        modifier = {
            factor = 1.1
            trait = gardener
        }
        # Mutations
        modifier = {
            factor = 0.3
            OR = {
                trait = mutation_minor
                trait = mutation_major
                trait = mutation_massive
            }
        }
        # Khorne like warriors
        modifier = {
            factor = 0.8
            martial = 8
        }
        modifier = {
            factor = 0.8
            martial = 14
        }

        # External influence
    }
	
	option = {
	name = "I'll never serve Khorne!"
	set_character_flag = refusedcallofchaos
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = brave
      }
      modifier = {
         factor = 4.0
         trait = zealous
      }
      modifier = {
         factor = 2.0
         trait = just
      }
      modifier = {
         factor = 2.0
         trait = content
      }
      modifier = {
         factor = 2.0
         trait = diligent
      }
   }

}   

	option = {
	name = "I'll serve Khorne!"
	set_character_flag = hidden_cultist_khorne
   ai_chance = {
      factor = 50
      modifier = {
         factor = 2.0
         trait = ambitious
      }
      modifier = {
         factor = 2.0
         trait = strong
      }
      modifier = {
         factor = 2.0
         trait = cruel
      }
      modifier = {
         factor = 2.0
         trait = impaler
      }
   } 

}

}

##OK, assignment of cult flags done, now to make the events for level 1 cultists##

#Nurgle Cultist
character_event = {
id = cultist.5
    desc = "Now that you serve Nurgle, you must do his bidding in order to advance in his favor and gain new powers from him. You have access to a new cultist decision menu." 
    picture = "GFX_evt_nurgle"
    min_age = 16
    capable_only = yes
	
	trigger = {
	age = 16
	has_character_flag = hidden_cultist_nurgle
	NOT = { has_character_flag = cultist5 }
	}
	
	mean_time_to_happen = {
	days = 30
	}
	
	option = {
	name = "OK"
	set_variable = { which = nurglefavor value = 0 }
	set_variable = { which = suspicion value = 0 } 
	set_character_flag = cultist5
	}
	
	}
	
#Slaanesh Cultist
character_event = {
id = cultist.6
    desc = "Now that you serve Slaanesh, you must do his bidding in order to advance in his favor and gain new powers from him. You have access to a new cultist decision menu." 
    picture = "GFX_evt_slaanesh"
    min_age = 16
    capable_only = yes
	
	trigger = {
	age = 16
	has_character_flag = hidden_cultist_slaanesh
	NOT = { has_character_flag = cultist6 }
	}
	
	mean_time_to_happen = {
	days = 30
	}
	
	option = {
	name = "OK"
	set_variable = { which = slaaneshfavor value = 0 }
	set_variable = { which = suspicion value = 0 } 
	set_character_flag = cultist6
	}
	
	}
		
#Tzeentch Cultist
character_event = {
id = cultist.7
    desc = "Now that you serve Tzeentch, you must do his bidding in order to advance in his favor and gain new powers from him. You have access to a new cultist decision menu." 
    picture = "GFX_evt_tzeentch"
    min_age = 16
    capable_only = yes
	
	trigger = {
	age = 16
	has_character_flag = hidden_cultist_tzeentch
	NOT = { has_character_flag = cultist7 }
	}
	
	mean_time_to_happen = {
	days = 30
	}
	
	option = {
	name = "OK"
	set_variable = { which = tzeentchfavor value = 0 }
	set_variable = { which = suspicion value = 0 } 
	set_character_flag = cultist7
	}
	
	}
	
#Khorne Cultist
character_event = {
id = cultist.8
    desc = "Now that you serve Khorne, you must do his bidding in order to advance in his favor and gain new powers from him. You have access to a new cultist decision menu." 
    picture = "GFX_evt_khorne"
    min_age = 16
    capable_only = yes
	
	trigger = {
	age = 16
	has_character_flag = hidden_cultist_khorne
	NOT = { has_character_flag = cultist8 }
	}
	
	mean_time_to_happen = {
	days = 30
	}
	
	option = {
	name = "OK"
	set_variable = { which = khornefavor value = 0 }
	set_variable = { which = suspicion value = 0 } 
	set_character_flag = cultist8
	}
	
	}
	