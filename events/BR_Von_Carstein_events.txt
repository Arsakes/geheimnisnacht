namespace = carstein


##Talabecland & Ostermark>Middenland & Hochland>Ostland>Westerland & Nordland>Reikland - Vlads path of expansion towards as named by Illathid##

	#Carstein event-line starts, he gets event-army#
	character_event = {
    id = carstein.0
    title = "Conquest"
    desc = "For too long, you have bided your time. Now your great spell is complete, and you have raised an army of undead to take on the Empire. Let blood flow, and let those who will not serve you in life - serve you in death!"
    picture = "GFX_evt_zombies"
	
	is_triggered_only = yes
	
	option = {
	name = "To War!"
	set_global_flag = carstein1
	k_ostermark = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 5000 5000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			archers = { 5000 5000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			heavy_infantry = { 2000 2000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 1000 1000 }
						}
			earmark = vlad_undead
					}
				}
			}
	any_playable_ruler = {
	limit = { 
	OR = {
	culture_group = imperial_group
	culture_group = kislevite_group
	culture_group = estalian_group
	culture_group = tilean_group
	culture_group = bretonnian_group
	culture_group = dwarf_group
	}
	ai = no
	}
	character_event = { id = carstein.1 days = 7 }
	}
	any_playable_ruler = {
	limit = { 
	AND = {
	NOT = { culture_group = imperial_group }
	NOT = {culture_group = kislevite_group }
	NOT = {culture_group = estalian_group }
	NOT = {culture_group = tilean_group }
	NOT = {culture_group = bretonnian_group }
	NOT = {culture_group = dwarf_group }
	}
	ai = no
	}
	character_event = { id = carstein.2 days = 30 }
	}
	}
	
option = {
	name = "No, I'll attack somewhere else."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	set_global_flag = carstein1
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 5000 5000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			archers = { 5000 5000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			heavy_infantry = { 2000 2000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 1000 1000 }
						}
			earmark = vlad_undead
					}
				}
			}
	any_playable_ruler = {
	limit = { 
	OR = {
	culture_group = imperial_group
	culture_group = kislevite_group
	culture_group = estalian_group
	culture_group = tilean_group
	culture_group = bretonnian_group
	culture_group = dwarf_group
	}
	ai = no
	}
	character_event = { id = carstein.1 days = 7 }
	}
	any_playable_ruler = {
	limit = { 
	AND = {
	NOT = { culture_group = imperial_group }
	NOT = {culture_group = kislevite_group }
	NOT = {culture_group = estalian_group }
	NOT = {culture_group = tilean_group }
	NOT = {culture_group = bretonnian_group }
	NOT = {culture_group = dwarf_group }
	}
	ai = no
	}
	character_event = { id = carstein.2 days = 30 }
	}
	}
	}

	#nearby pc rulers are informed#
	character_event = {
    id = carstein.1
    title = "Rise of the Undead"
    desc = "Rumors reach you that in Sylvania a Vampire Count by the name of Vlad von Carstein has summoned a massive army of undead, and aims to make war on the fragmented empire."
    picture = "GFX_evt_carstein"
	
	is_triggered_only = yes
	
	option = {
	name = "Damnations!"
	}
	
	}
	#more distant pc rulers are informed#
	character_event = {
    id = carstein.2
    title = "Rumors of Doom"
    desc = "Rumors reach you that in the distant duchy of Sylvania, a Vampire Count by the name of Vlad von Carstein has summoned a massive army of undead, and makes war on the fragmented empire."
    picture = "GFX_evt_carstein"
	
	is_triggered_only = yes
	
	option = {
	name = "OK"
	}
	
	}
	
	#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.3
    title = "Conquest"
    desc = "You have conquered  Ostermark. Now you should move west, towards the imperial capitals and cripple the Empire while it is still divided! You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	AND = {
	trait = carstein_ring
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	}
	}
	
	mean_time_to_happen = {
	days = 1
	}
	
	option = {
	name = "All shall fall before me."
		k_talabecland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 3000 3000 }
						}
			earmark = vlad_undead
					}
				}
			}
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
			
			}
	
	#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.4
    title = "Conquest"
    desc = "You have conquered large parts of the empire - now it is time to move further into Hochland, destroying the weaker foes before moving west against the major seats of imperial power. You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	war = no
	AND = {
	trait = carstein_ring
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	OR = {
	any_realm_lord = { has_landed_title = k_talabecland }
	has_landed_title = k_talabecland
	}
	}
	}
	
	mean_time_to_happen = {
	months = 12
	}
	
	option = {
	name = "Victory is inevitable!"
		k_hochland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}	
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 3000 3000 }
						}
			earmark = vlad_undead
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
			
			}
			
	#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.5
    title = "Conquest"
    desc = "Your empire has grown to a great size now, and you are ready to move west towards Middenland, heading for the Imperial Capital of Altdorf itself. You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	war = no
	AND = {
	trait = carstein_ring
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	OR = {
	any_realm_lord = { has_landed_title = k_talabecland }
	has_landed_title = k_talabecland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_hochland }
	has_landed_title = k_hochland
	}
	}
	}
	
	mean_time_to_happen = {
	months = 12
	}
	
	option = {
	name = "Victory is inevitable!"
		k_middenland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}	
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 1000 1000 }
						}
			earmark = vlad_undead			
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
			
			}
			
#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.6
    title = "Conquest"
    desc = "Your empire and armies keep growing, and you are ready to move northwards, securing that flank against any counter-attack. You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	trait = carstein_ring
	war = no
	AND = {
	has_character_flag = vlad_von_carstein
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	OR = {
	any_realm_lord = { has_landed_title = k_talabecland }
	has_landed_title = k_talabecland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_hochland }
	has_landed_title = k_hochland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_middenland }
	has_landed_title = k_middenland
	}
	}
	}
	
	mean_time_to_happen = {
	months = 12
	}
	
	option = {
	name = "Victory is inevitable!"
		k_ostland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}	
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 1000 1000 }
						}
			earmark = vlad_undead			
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
	option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
			}
			
#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.11
    title = "Conquest"
    desc = "Your empire and armies keep growing, and you are ready to move against Nordland, securing that flank against any counter-attack. You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	trait = carstein_ring
	war = no
	AND = {
	has_character_flag = vlad_von_carstein
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	OR = {
	any_realm_lord = { has_landed_title = k_talabecland }
	has_landed_title = k_talabecland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_hochland }
	has_landed_title = k_hochland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_middenland }
	has_landed_title = k_middenland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostland }
	has_landed_title = k_ostland
	}
	}
	}
	
	mean_time_to_happen = {
	months = 12
	}
	
	option = {
	name = "Victory is inevitable!"
		k_nordland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}	
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 1000 1000 }
						}
			earmark = vlad_undead			
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
	option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
	
			}
			
#Von Carstein gets series of wars leading him deeper into the Empire#
	character_event = {
    id = carstein.12
    title = "Conquest"
    desc = "Your empire and armies keep growing, and you are ready to move against Westerland, in preparation for the final assault against Altdorf. You raise more undead for your armies."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	trait = carstein_ring
	war = no
	AND = {
	has_character_flag = vlad_von_carstein
	NOT = { has_character_flag = refused_expansion_path }
	OR = {
	any_realm_lord = { has_landed_title = k_sylvania }
	has_landed_title = k_sylvania
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostermark }
	has_landed_title = k_ostermark
	}
	OR = {
	any_realm_lord = { has_landed_title = k_talabecland }
	has_landed_title = k_talabecland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_hochland }
	has_landed_title = k_hochland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_middenland }
	has_landed_title = k_middenland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_ostland }
	has_landed_title = k_ostland
	}
	OR = {
	any_realm_lord = { has_landed_title = k_nordland }
	has_landed_title = k_nordland
	}
	}
	}
	
	mean_time_to_happen = {
	months = 12
	}
	
	option = {
	name = "Victory is inevitable!"
		k_westerland = {
			reverse_war = {
				target = ROOT
				casus_belli = vlad_subjugation
			}
		}	
		location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_infantry = { 1000 1000 }
						}
			earmark = vlad_undead			
					}
				}
			}
	location = {
			ROOT = {
			spawn_unit = {
			province = PREV
			troops = {
			light_cavalry = { 500 500 }
						}
			earmark = vlad_undead
					}
				}
			}
			}
			
	option = {
	name = "No, I'll decide my own path of expansion."
	trigger = { ai = no }
	set_character_flag = refused_expansion_path
	}
			
			}
			
#Von Carstein loses his ring once he gets to a certain realm size#
	character_event = {
    id = carstein.7
    title = "Disaster"
    desc = "Vile treachery - you awaken from your coffin one evening, and find your precious ring stolen! You are now no longer able to return from death over and over again, and you may have to slow the rate of your expansion so as to not risk your life..."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes
	
	trigger = {
	trait = carstein_ring
	realm_size = 150
	}
	
	mean_time_to_happen = {
	months = 1
	}
	
	option = {
	name = "Curses!"
	remove_trait = carstein_ring
	any_playable_ruler = {
	limit = { 
	OR = {
	culture_group = imperial_group
	culture_group = kislevite_group
	culture_group = estalian_group
	culture_group = tilean_group
	culture_group = bretonnian_group
	culture_group = dwarf_group
	}
	ai = no
	}
	character_event = { id = carstein.8 days = 7 }
	}
	any_playable_ruler = {
	limit = { 
	AND = {
	NOT = { culture_group = imperial_group }
	NOT = {culture_group = kislevite_group }
	NOT = {culture_group = estalian_group }
	NOT = {culture_group = tilean_group }
	NOT = {culture_group = bretonnian_group }
	NOT = {culture_group = dwarf_group }
	}
	ai = no
	}
	character_event = { id = carstein.8 days = 30 }
	}
			}
			
			}
			
#world is informed#
	character_event = {
    id = carstein.8
    title = "Good news!"
    desc = "Rumors reach your realm that the mighty Von Carstein ring which has made this tyrant almost unkillable has been stolen, and he has not managed to retrieve it... there is hope now, that he can be stopped."
    picture = "GFX_evt_carstein"
	
	is_triggered_only = yes
	
	option = {
	name = "Excellent!"
	}
	
	}
	
##when vlad dies,his undead horde disbands#
	character_event = {
    id = carstein.9
    title = "Disaster"
    desc = "With the death of Vlad Von Carstein, the undead armies he had raised return to the ground, undead no more... This is a terrible blow, let's hope we can hold the realm together without them."
    picture = "GFX_evt_carstein"
	is_triggered_only = yes

	trigger = {
	OR = {
	has_landed_title = e_sylvania
	has_landed_title = k_sylvania
	}
	NOT = { has_character_flag = vlad_von_carstein }
	NOT = { has_global_flag = undead_disbanded }
	age = 1
	}
	
	mean_time_to_happen = {
	days = 7
	}
	
	option = {
	name = "Damnations!"
	set_global_flag = undead_disbanded
	disband_event_forces = vlad_undead
	any_playable_ruler = {
	limit = { 
	OR = {
	culture_group = imperial_group
	culture_group = kislevite_group
	culture_group = estalian_group
	culture_group = tilean_group
	culture_group = bretonnian_group
	culture_group = dwarf_group
	}
	ai = no
	}
	character_event = { id = carstein.10 days = 7 }
	}
	any_playable_ruler = {
	limit = { 
	AND = {
	NOT = { culture_group = imperial_group }
	NOT = {culture_group = kislevite_group }
	NOT = {culture_group = estalian_group }
	NOT = {culture_group = tilean_group }
	NOT = {culture_group = bretonnian_group }
	NOT = {culture_group = dwarf_group }
	}
	ai = no
	}
	character_event = { id = carstein.10 days = 30 }
	}
	}
	
	}
	
##when vlad dies,his undead horde disbands#
	character_event = {
    id = carstein.10
    title = "Disaster"
    desc = "With the death of Vlad Von Carstein, the undead armies he had raised return to the ground, undead no more... there may be hope for the Empire yet!"
    picture = "GFX_evt_zombies"
	
	is_triggered_only = yes
	
	option = {
	name = "Excellent."
	}
	
	}
	
	#carstein 11 & 12 used above#