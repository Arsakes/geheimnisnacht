#
# This files contains are events for new racial mechanics
# -lifespan for immortal creatures
# -reproduce system for orcs 
# -event determining race
#
namespace = racial
#
#
#
#
# This event should fire on startup for pc character
character_event = {
    id = racial.1   
    name = "set race event - should be hidden" 
    hide_window = yes

    trigger = {
        ai = no
        NOT = { 
            OR = {
                trait = creature_human
                trait = creature_elf
                trait = creature_dwarf
                trait = creature_chaos_dwarf
                trait = creature_halfling
                trait = creature_orc
                trait = creature_goblin
                trait = creature_snotling
                trait = creature_skaven
                trait = creature_nehekharan
                trait = creature_ogre
                trait = creature_beastman
            }
        }
    }
    mean_time_to_happen = {
	days = 1
    }
    immediate = {
        # human
        if = {
            limit = {
	        OR = {
	            culture_group = amazon_group
                    culture_group = arabyan_group
                    culture_group = cathayan_group
                    culture_group = bretonnian_group
                    culture_group = estalian_group
                    culture_group = hung_group
                    culture_group = imperial_group
                    culture_group = kislevite_group
                    culture_group = kurgan_group
                    culture_group = nipponese_group
                    culture_group = norscan_group
                    culture_group = myken_group
                    culture_group = old_imperial_group
                    culture_group = tilean_group
		    culture_group = sartosan_group
                }
            }
            add_trait = creature_human
        }
        # elf
        if = {
            limit = {
	        OR = {
                    culture_group = asur_group
                    culture_group = asrai_group
                    culture_group = druchi_group
	        }
            }
            add_trait = creature_elf
        }
        if = {
            limit = {
                culture_group = dwarf_group
            }
            add_trait = creature_dwarf
        }
        if = {
            limit = {
                culture_group = dwarf_chaos_group
            }
            add_trait = creature_chaos_dwarf
        }
        if = {
            limit = {
                culture_group = orc_group
                is_female = no
            }
            add_trait = creature_dwarf
        }
        if = {
            limit = {
                culture_group = goblin_group
                is_female = no
            }
            add_trait = creature_goblin
        }
        if = {
            limit = {
                OR = {
                    culture_group = orc_group
                    culture_group = goblin_group
                }
                is_female = yes
            }
            add_trait = creature_snotling
        }
        if = {
            limit = {
                culture_group = skaven_group
            }
            add_trait = creature_skaven
        }
        if = {
            limit = {
                culture_group = nehekharan_group
            }
            add_trait = creature_nehekharan
        }
        if = {
            limit = {
                culture_group = ogre_group
            }
            add_trait = creature_ogre
        }
        if = {
            limit = {
                culture_group = beastman_group
            }
            add_trait = creature_beastman
        }
    }
}
#
# Death system for long-lived beings
#
