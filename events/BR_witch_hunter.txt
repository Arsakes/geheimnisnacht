#OUTLINE OF BASIC WITCH HUNTER VS CULTIST SYSTEM#
#Learning determines how good a witch hunter is, they gain learning when they complete a mission#
#Intrigue determines how good a hidden cultist is; when it comes to exposure, the result is based on their intrigue vs the witch hunter's learning#
#Beware: Paranoid witch hunters will consider even a good explanation proof of guilt as well, as clearly a good cultist would be a good liar!#



namespace = witchhunter

##First spawn some witch hunters in the relevant courts -  any court count or above that is a theocracy gets a few, from the old world religions##
	character_event = {
    id = witchhunter.0
    title = "Witch Hunters"
    desc = "Witch Hunters are a necessary evil - though their methods can be cruel, they are the first line of defense against the spread of Chaos. As a major religious site, you have several witch hunters in your court."
    picture = "GFX_evt_beheading"
	
	trigger = {
	is_theocracy  = yes
	is_landed = yes
	higher_tier_than = BARON
	top_liege = { religion_group = old_world_group }
	religion_group = old_world_group
	NOT = { num_of_friends = 3 } ##no number of courtiers with witch hunter trait command exists, so we just make all witch hunters friends of the arch priest#
	age = 16
	}
	
	mean_time_to_happen = {
	days = 7
	}
	
	option = {
	name = "I feel safer already."
	create_random_priest = {
				random_traits = yes
				dynasty = random
				culture = ROOT
				religion = ROOT
				female = no
				age = 18
			}
			new_character = {
				add_friend = ROOT 
				add_trait = witch_hunter
			}
	create_random_priest = {
				random_traits = yes
				dynasty = random
				culture = ROOT
				religion = ROOT
				female = no
				age = 28
			}
			new_character = {
				add_friend = ROOT 
				add_trait = witch_hunter
			}
	create_random_priest = {
				random_traits = yes
				dynasty = random
				female = no
				culture = ROOT
				religion = ROOT
				age = 50
			}
			new_character = {
				add_friend = ROOT 
				add_trait = witch_hunter
			}
	}
	
	}
	
##Now, individual witch hunters can go on missions to try and root out chaos##
#First they are invited to investigate provinces where cultists are active with the province flag events##

	character_event = {
    id = witchhunter.1
    title = "Witch Hunters"
    desc = "One of your demesne provinces bears the taint of chaos. Your courtiers and barons want you to call in a professional to track down the root of this evil, and cleanse it from your lands."
    picture = "GFX_evt_beheading"
	
	trigger = {
	religion_group = old_world_group
	higher_tier_than = BARON
	any_demesne_province = {
	OR = {
	has_province_modifier = nurgle_province_disease
	has_province_modifier = beastmen_unrest
	has_province_modifier = warpdust_traces
	has_province_modifier = slaanesh_hedonism
	}
	NOT = { has_province_modifier = witch_hunter_purge_in_progress }
	}
	}

	mean_time_to_happen = {
	days = 180
	}
	
	option = {
	name = "We must send for a witch hunter immediately."
	random_realm_character = {
	limit = {
	religion = ROOT
	trait = witch_hunter
	NOT = { trait = on_witch_hunt }
	}
	character_event = { id = witchhunter.2 }
	}
	}
	
	option = { 
	name = "No, Witch hunters cause too much trouble."
	trigger = {
	OR = {
	ai = no 
	has_character_flag = hidden_cultist_slaanesh
	has_character_flag = hidden_cultist_slaanesh2 
	has_character_flag = hidden_cultist_slaanesh3
	has_character_flag = hidden_cultist_tzeentch
	has_character_flag = hidden_cultist_tzeentch2 
	has_character_flag = hidden_cultist_tzeentch3	
	has_character_flag = hidden_cultist_khorne
	has_character_flag = hidden_cultist_khorne2 
	has_character_flag = hidden_cultist_khorne3
	has_character_flag = hidden_cultist_nurgle
	has_character_flag = hidden_cultist_nurgle2 
	has_character_flag = hidden_cultist_nurgle3
	}
	}
	change_variable = { which = suspicion value = 0.5 } 
	}
	
	}
	
	
	character_event = {
    id = witchhunter.2
    title = "Evil Stirs"
    desc = "A province lord has sent for you, asking your aid in uncovering and rooting out the taint of chaos in one of his provinces."
    picture = "GFX_evt_beheading"

	is_triggered_only = yes
	
	option = {
	name = "I leave immediately."
	FROM = { character_event = { id = witchhunter.3 } }
	}
	
	}
	
	character_event = {
    id = witchhunter.3
    title = "On a dark and stormy night..."
    desc = "A witch hunter arrives in your court. He will begin his investigation immediately."
    picture = "GFX_evt_beheading"

	is_triggered_only = yes
	
	option = {
	name = "Excellent."
	FROM = { character_event = { id = witchhunter.4 } }
	}
	}
	
	character_event = {
    id = witchhunter.4
    title = "On a dark and stormy night..."
    desc = "You arrive at the court. Now, it's time to get to work..."
    picture = "GFX_evt_beheading"

	is_triggered_only = yes
	
	option = {
	name = "Indeed!"
	add_trait = on_witch_hunt
	move_character = FROM
	character_event = { id = witchhunter.5 days = 730 } #witch hunts last for 2 years, then the witch hunter leaves again#
	}
	}
	
	character_event = {
    id = witchhunter.5
    title = "Your investigation is finished"
    desc = "You've done what you can here. It's time to move on again and root out new evils."
    picture = "GFX_evt_beheading"

	is_triggered_only = yes	
	
	option = {
	name = "Indeed, time to return to the temple."
	remove_trait = on_witch_hunt
	change_learning = 1 #learning determines how good a witch hunter is#
	liege = { character_event = { id = witchhunter.6 } }
	any_realm_lord = {
	limit = {
	is_theocracy = yes
	is_landed = yes
	religion = ROOT
	}
	move_character = PREV
	}
	}
	
	}
	
	character_event = {
    id = witchhunter.6
    title = "The investigation is finished"
    desc = "The Witch Hunter comes to your council meeting and informs you that he has done what he can to root out heresy in your demesne and he must now go to other lands where the foul taint of chaos is ever-growing."
    picture = "GFX_evt_beheading"

	is_triggered_only = yes	
	
	option = {
	name = "It was about time!"
	random_demesne_province = {
	limit = {
	has_province_modifier = witch_hunter_purge_in_progres
	}
	remove_province_modifier = witch_hunter_purge_in_progress
	}
	}
	
	}
	
	#the witch hunter informs the liege that he is starting to root out chaos in the province#
	character_event = {
    id = witchhunter.7
    title = "Witch Hunt"
    desc = "The Witch Hunter asks permission to start rooting out the foul taint of chaos in your demesne. The methods will be harsh, but he promises to get to the bottom of this and cleanse your land."
    picture = "GFX_evt_beheading"
	
	trigger = {
	any_courtier = {
	trait = on_witch_hunt
	}
	any_demesne_province = {
	OR = {
	has_province_modifier = nurgle_province_disease
	has_province_modifier = beastmen_unrest
	has_province_modifier = warpdust_traces
	has_province_modifier = slaanesh_hedonism
	}
	NOT = { has_province_modifier = witch_hunter_purge_in_progress }
	}	
	}
	
	mean_time_to_happen = {
	days = 7
	}
	
	option = {
	name = "Very well."
	random_demesne_province = {
	limit = {
	OR = {
	has_province_modifier = nurgle_province_disease
	has_province_modifier = beastmen_unrest
	has_province_modifier = warpdust_traces
	has_province_modifier = slaanesh_hedonism
	}
	NOT = { has_province_modifier = witch_hunter_purge_in_progress }
	}
	add_province_modifier = { name = witch_hunter_purge_in_progress duration = 730 }
	}
	}
	
	option = {
	name = "No, leave the peasants alone."
	trigger = {
	ai = no
	}
	change_variable = { which = suspicion value = 0.5 } 
	}
	
	}
	
	##the witch hunter starts looking for cultist courtiers - this time he identifies a random individual##
	character_event = {
    id = witchhunter.8
    title = "Witch Hunt"
    desc = "No one is immune to the taint of chaos, and while it is better to burn an entire village than risk contamination by one individual, you must be more careful here in the court. But there is one courtier who you suspect to be a cultist..."
    picture = "GFX_evt_beheading"
	
	trigger = {
	age = 16
	trait = on_witch_hunt	
	}
	
	mean_time_to_happen = {
	days = 180
	}
	
	option = {
	name = "I will confront this individual."
	any_courtier = {
	limit = {
	age = 16
	OR = {
	trait = lustful
	trait = hedonist
	trait = mystic
	trait = paranoid
	trait = hunchback
	trait = ugly
	trait = imbecile
	trait = wroth
	NOT = { religion = ROOT }
	NOT = { culture_group = ROOT }
	}
	}
	character_event = { id = witchhunter.9 }
	}
	}
	
	}
	
	#courtier is confronted#
	character_event = {
    id = witchhunter.9
    title = "Witch Hunt"
    desc = "You are confronted by the witch hunter currently investigating your court, who asks you to explain certain suspicious actions of yours..."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	name = "I.. ehh, heresy? No no, let me explain!"
	#first the events where the courtier successfully explains the suspicious actions#
	if = {
	limit = {
	OR = {
	AND = {
	intrigue = 5
	FROM = { NOT = { learning = 5 } }
	}
	AND = {
	intrigue = 10
	FROM = { NOT = { learning = 10 } }
	}
	AND = {
	intrigue = 15
	FROM = { NOT = { learning = 10 } }
	}
	AND = {
	intrigue = 20
	FROM = { NOT = { learning = 10 } }
	}
	}
	}
	FROM = { character_event = { id = witchhunter.10 } }
	}
	#now the events where the courtier fails to explain, because his intrigue is lower than the witch hunter's learning#
	if = {
	limit = {
	OR = {
	AND = {
	NOT = { intrigue = 5 }
	FROM = { learning = 5 }
	}
	AND = {
	NOT = { intrigue = 10 }
	FROM = { learning = 10 }
	}
	AND = {
	NOT = { intrigue = 15 }
	FROM = { learning = 15 }
	}
	AND = {
	NOT = { intrigue = 20 }
	FROM = { learning = 20 }
	}
	}
	}
	FROM = { character_event = { id = witchhunter.11 } }
	}
	}
	
	}

	#witch hunter is convinced the courtier is not a heretic#
	character_event = {
    id = witchhunter.10
    title = "Witch Hunt"
    desc = "The Courtier had a good explanation. He seems to be telling the truth."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	name = "Fine..."
	}
	
	option = {
	name = "A good cultist is a good liar! This is proof of guilt!"
	trigger = {
	trait = paranoid
	}
	liege = { character_event = { id = witchhunter.12 } }
	}
	
	}
	
	#witch hunter is convinced the courtier is  a heretic#
	character_event = {
    id = witchhunter.11
    title = "Witch Hunt"
    desc = "The Courtier did not had a good explanation. You must inform the liege of this heretic in his midst!"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	name = "At once!"
	FROM = { character_event = { id = witchhunter.12 } }
	}
	
	}	
	
	#the courtier is informed of the charge and wants to defends himself to his liege, or if independent, banish or imprison him#
	character_event = {
    id = witchhunter.12
    title = "Witch Hunt"
    desc = " The Witch Hunter is convinced that you are a heretic or a cultist. What do you do?"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes	
	
	option = {
	name = "Banish him!"
	trigger = { independent = yes }
	change_variable = { which = suspicion value = 1.0 } 
	FROM = { banish = yes }
	FROM = { remove_trait = on_witch_hunt }
	}
	
	option = {
	name = "Imprison him!"
	trigger = { independent = yes }
	change_variable = { which = suspicion value = 2.0 } 
	FROM = { imprison = yes }
	FROM = { remove_trait = on_witch_hunt }
	}
	
	option = {
	name = "Appeal to my liege!"
	trigger = { independent = no }
	liege = { character_event = { id = witchhunter.13 } }
	}
	
	}
	
	#liege is informed one of this courtiers is a suspected cultist/heretic#
	character_event = {
    id = witchhunter.13
    title = "Witch Hunt"
    desc = "My liege, the Witch Hunter has accused me of heresy. These charges are completely baseless, I implore you to intervene on my behalf and clear my good name! In the name of all that is holy!"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes		
	
	option = {
	name = "All heretics must die by fire!"
	trigger = {
	OR = {
	ai = no
	trait = zealous
	trait = paranoid
	trait = arbitrary
	trait = cruel
	NOT = { ROOT = { opinion = { who = FROM value = 1 } } } 
	}
	}
	change_variable = { which = suspicion value = -2.0 } 
	FROM = { character_event = { id = witchhunter.14 } }
	}
	
	option = {
	name = "I'm sure you are not a heretic."
	trigger = {
	OR = {
	ai = no
	ROOT = { opinion = { who = FROM value = 50 } }
	}
	}
	change_variable = { which = suspicion value = 1.0 } 
	FROM = { character_event = { id = witchhunter.16 } }
	}
	
	option = {
	name = "To the dungeons with you!"
	change_variable = { which = suspicion value = -1.0 } 
	FROM = { character_event = { id = witchhunter.15 } }
	}
	

	
	}
	
	character_event = {
    id = witchhunter.14
    title = "Witch Hunt"
    desc = "Your liege sides with the Witch Hunter. Guards seize you, and drag you to the court yard, where a great fire is being prepared for your execution."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes			
	
	option = {
	name = "Nooooo!"
	if = {
	limit = {
	is_landed = yes
	}
	any_playable_ruler = {
	limit = {
	ai = no 
	same_realm = ROOT
	NOT = { has_character_flag = witchhunter29 }
	}
	character_event = { id = witchhunter.29 days = 7 }
	}
	}
	death = {
	death_reason = death_execution
	killer = FROM
	}
	}
	
	}
	
	character_event = {
    id = witchhunter.15
    title = "Witch Hunt"
    desc = "Your liege sides with the Witch Hunter. Guards seize you, and drag you to the dungeons. At least your liege was merciful, and did not condemn you to death by fire."
    picture = "GFX_evt_dungeon"
	
	is_triggered_only = yes			
	
	option = {
	name = "Nooooo!"
	imprison = yes
	}
	
	}
	
	character_event = {
    id = witchhunter.16
    title = "Witch Hunt"
    desc = "Your liege intervenes, and the Witch Hunter - grudgingly - backs off. You will not suffer death by fire."
    picture = "GFX_evt_dungeon"
	
	is_triggered_only = yes			
	
	option = {
	name = "A close call!"
	}
	
	}
	
	##Now for the witch hunter actually removing the chaos taint from the province##
	character_event = {
    id = witchhunter.17
    title = "Witch Hunt"
    desc = "You have managed to remove the taint of chaos from the province. But there may still be cultists and heretics lurking about..."
    picture = "GFX_evt_beheading"
	
	trigger = {
	age = 16
	trait = on_witch_hunt
	liege = {
	any_demesne_province = {
	OR = {
	has_province_modifier = nurgle_province_disease
	has_province_modifier = beastmen_unrest
	has_province_modifier = warpdust_traces
	has_province_modifier = slaanesh_hedonism
	}
	}
	}
	}
	
	mean_time_to_happen = {
	months = 36
	 modifier = {
            factor = 0.9
			learning = 5
			}
	 modifier = {
            factor = 0.9
			learning = 10
			}
	 modifier = {
            factor = 0.5
			learning = 15
			}
	 modifier = {
            factor = 0.5
			learning = 20
			}
	}	
	
	option = {
	name = "Excellent."
	liege = { character_event = { id = witchhunter.18 } }
	}
	
	}
	
	##liege is informed that the taint has been removed##
	character_event = {
    id = witchhunter.18
    title = "Witch Hunt"
    desc = "The Witch Hunter has purged the taint of chaos from your demesne province, but warns you that heretics and cultists may still be about. He will continue his investigation for a while yet."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes			
	
	option = {
	name = "Good job, Witch Hunter."
	random_demesne_province = {
	limit = {
	OR = {
	has_province_modifier = nurgle_province_disease
	has_province_modifier = beastmen_unrest
	has_province_modifier = warpdust_traces
	has_province_modifier = slaanesh_hedonism
	}
	}
	remove_province_modifier = witch_hunter_purge_in_progress
	remove_province_modifier = nurgle_province_disease
	remove_province_modifier = beastmen_unrest
	remove_province_modifier = warpdust_traces
	remove_province_modifier = slaanesh_hedonism	
	}	
	}
	
	}
	
	###Now the Witch Hunter goes after actual cultists, or those with high suspicion factors##
	character_event = {
    id = witchhunter.19
    title = "Witch Hunt"
    desc = "No one is immune to the taint of chaos, and while it is better to burn an entire village than risk contamination by one individual, you must be more careful here in the court. But there is one courtier who you suspect to be a cultist..."
    picture = "GFX_evt_beheading"
	
	trigger = {
	age = 16
	trait = on_witch_hunt	
	}
	
	mean_time_to_happen = {
	days = 180
	}
	
	option = {
	name = "I will confront this individual."
	any_courtier = {
	limit = {
	OR = {
	has_character_flag = suspicion5
	has_character_flag = suspicion10
	}
	}
	character_event = { id = witchhunter.20 }
	}
	}
	
	}
	
	#courtier is confronted#
	character_event = {
    id = witchhunter.20
    title = "Witch Hunt"
    desc = "You are confronted by the witch hunter currently investigating your court, who asks you to explain certain suspicious actions of yours..."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	name = "I.. ehh, heresy? No no, let me explain!"
	#first the events where the courtier successfully explains the suspicious actions#
	if = {
	limit = {
	OR = {
	AND = {
	intrigue = 5
	FROM = { NOT = { learning = 5 } }
	}
	AND = {
	intrigue = 10
	FROM = { NOT = { learning = 10 } }
	}
	AND = {
	intrigue = 15
	FROM = { NOT = { learning = 10 } }
	}
	AND = {
	intrigue = 20
	FROM = { NOT = { learning = 10 } }
	}
	}
	}
	FROM = { character_event = { id = witchhunter.21 } }
	}
	#now the events where the courtier fails to explain, because his intrigue is lower than the witch hunter's learning#
	if = {
	limit = {
	OR = {
	AND = {
	NOT = { intrigue = 5 }
	FROM = { learning = 5 }
	}
	AND = {
	NOT = { intrigue = 10 }
	FROM = { learning = 10 }
	}
	AND = {
	NOT = { intrigue = 15 }
	FROM = { learning = 15 }
	}
	AND = {
	NOT = { intrigue = 20 }
	FROM = { learning = 20 }
	}
	}
	}
	FROM = { character_event = { id = witchhunter.22 } }
	}
	}
	
	}

	#witch hunter is convinced the courtier is not a heretic#
	character_event = {
    id = witchhunter.21
    title = "Witch Hunt"
    desc = "The Courtier had a good explanation. He seems to be telling the truth."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	trigger = {
	NOT = { trait = paranoid }
	}
	name = "Fine..."
	}
	
	option = {
	name = "A good cultist is a good liar! This is proof of guilt!"
	trigger = {
	trait = paranoid
	}
	liege = { character_event = { id = witchhunter.12 } }
	}
	
	}
	
	#witch hunter is convinced the courtier is  a heretic#
	character_event = {
    id = witchhunter.22
    title = "Witch Hunt"
    desc = "The Courtier did not had a good explanation. You must inform the liege of this heretic in his midst!"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes
	
	option = {
	name = "At once!"
	FROM = { character_event = { id = witchhunter.23 } }
	}
	
	}	
	
	#the courtier is informed of the charge and wants to defends himself to his liege, or if independent, banish or imprison him#
	character_event = {
    id = witchhunter.23
    title = "Witch Hunt"
    desc = " The Witch Hunter is convinced that you are a heretic or a cultist. What do you do?"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes	
	
	option = {
	name = "Banish him!"
	trigger = { independent = yes }
	change_variable = { which = suspicion value = 1.0 } 
	FROM = { banish = yes }
	FROM = { remove_trait = on_witch_hunt }
	}
	
	option = {
	name = "Imprison him!"
	trigger = { independent = yes }
	change_variable = { which = suspicion value = 2.0 } 
	FROM = { imprison = yes }
	FROM = { remove_trait = on_witch_hunt }
	}
	
	option = {
	name = "Appeal to my liege!"
	trigger = { independent = no }
	liege = { character_event = { id = witchhunter.24 } }
	}
	
	}
	
	#liege is informed one of this courtiers is a suspected cultist/heretic#
	character_event = {
    id = witchhunter.24
    title = "Witch Hunt"
    desc = "My liege, the Witch Hunter has accused me of heresy. These charges are completely baseless, I implore you to intervene on my behalf and clear my good name! In the name of all that is holy!"
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes		
	
	option = {
	name = "All heretics must die by fire!"
	trigger = {
	OR = {
	ai = no
	trait = zealous
	trait = paranoid
	trait = arbitrary
	trait = cruel
	NOT = { ROOT = { opinion = { who = FROM value = 1 } } } 
	}
	}
	change_variable = { which = suspicion value = -2.0 } 
	FROM = { character_event = { id = witchhunter.25 } }
	}
	
	option = {
	name = "I'm sure you are not a heretic."
	trigger = {
	OR = {
	ai = no
	ROOT = { opinion = { who = FROM value = 50 } }
	}
	}
	change_variable = { which = suspicion value = 1.0 } 
	FROM = { character_event = { id = witchhunter.26 } }
	}
	
	option = {
	name = "To the dungeons with you!"
	change_variable = { which = suspicion value = -1.0 } 
	FROM = { character_event = { id = witchhunter.27 } }
	}
	

	
	}
	
	character_event = {
    id = witchhunter.25
    title = "Witch Hunt"
    desc = "Your liege sides with the Witch Hunter. Guards seize you, and drag you to the court yard, where a great fire is being prepared for your execution."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes			
	
	option = {
	name = "Nooooo!"
	if = {
	limit = {
	is_landed = yes
	}
	any_playable_ruler = {
	limit = {
	ai = no 
	same_realm = ROOT
	NOT = { has_character_flag = witchhunter29 }
	}
	character_event = { id = witchhunter.29 days = 7 }
	}
	}
	death = {
	death_reason = death_execution
	killer = FROM
	} 
	}
	
	}
	
	character_event = {
    id = witchhunter.26
    title = "Witch Hunt"
    desc = "Your liege sides with the Witch Hunter. Guards seize you, and drag you to the dungeons. At least your liege was merciful, and did not condemn you to death by fire."
    picture = "GFX_evt_dungeon"
	
	is_triggered_only = yes			
	
	option = {
	name = "Nooooo!"
	imprison = yes
	}
	
	}
	
	character_event = {
    id = witchhunter.27
    title = "Witch Hunt"
    desc = "Your liege intervenes, and the Witch Hunter - grudgingly - backs off. You will not suffer death by fire."
    picture = "GFX_evt_beheading"
	
	is_triggered_only = yes			
	
	option = {
	name = "A close call!"
	}
	
	}	
	
	##Now Witch Hunters randomly seek out individual lords who have high suspicion factors - first the suspicious lord gets an event##
	character_event = {
    id = witchhunter.28
    title = "Witch Hunt"
    desc = "The religious authorities send word. They'd like you to host a Witch Hunter for a while, as part of a routine investigation of chaos influences in the land."
    picture = "GFX_evt_beheading"	
	
	trigger = {
	age = 16
	OR = {
	has_character_flag = suspicion5
	has_character_flag = suspicion10
	}
	}

	
	mean_time_to_happen = {
	months = 36
	
	 modifier = {
            factor = 1.1
			intrigue = 5
			}
	 modifier = {
            factor = 1.5
			intrigue = 10
			}
	 modifier = {
            factor = 2.0
			intrigue = 15
			}
	 modifier = {
            factor = 2.5
			intrigue = 20
			}
	}
	
	option = {
	name = "Sure... why not?"
	change_variable = { which = suspicion value = -1 } 
	random_realm_character = {
	limit = {
	religion = ROOT
	trait = witch_hunter
	NOT = { trait = on_witch_hunt }
	}
	character_event = { id = witchhunter.2 }
	}
	}
	
	option = {
	name = "No! Witch Hunters cause trouble."
	trigger = {
	ai = no
	}
	change_variable = { which = suspicion value = 5 } 
	}
	
	}
	
	character_event = {
    id = witchhunter.29
    title = "Witch Hunt"
    desc = "This noble of your realm has been burned alive by the witch hunters, on suspicion of heresy or cultist activities."
    picture = "GFX_evt_dungeon"
	
	is_triggered_only = yes			
	
	option = {
	name = "I see."
	}
	
	option = {
	name = "Do not bother me with such news again."
	set_character_flag = witchhunter29
	}
	
	}	
	
##Now for vampire hunting - this time just for open vampires##

#first a witch hunter who is not on a witch hunt tells the liege that there are open vampires in his realm##
	character_event = {
    id = witchhunter.30
    title = "Witch Hunt"
    desc = "There are known vampires in the realm... these must be rooted out with fire, stakes, and sharp silver swords!"
    picture = "GFX_evt_beheading"	
	
	trigger = {
	age = 16
	trait = witch_hunter
	NOT = { trait = on_witch_hunt }
	OR = {
	any_realm_character = {
	OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
		}
	any_realm_lord = {
	OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
		}
}		
	top_liege = { 
	NOT = { has_character_flag = vampires_allowed } 
	religion_group = old_world_group
	}
	}

	mean_time_to_happen = {
	days = 90
	}
	
	option = {
	name = "I must inform my liege at once!"
	top_liege = { 
	character_event = { id = witchhunter.31 }
	}
	}
	
	}
	
	##top liege is informed##
	character_event = {
    id = witchhunter.31
    title = "Witch Hunt"
    desc = "My liege, there are known vampires infesting your realm! These must be hunted down at once. Will you give the temple the authority to cleanse the land of this foul taint?"
    picture = "GFX_evt_beheading"	
	
	is_triggered_only = yes
	
	option = { 
	name = "Yes, of course - get to work at once."
	##vampires with either martial or intrigue of 15+ manage to escape and are banished##
	any_realm_character = {
	limit = {
		OR = {
		martial = 15
		intrigue = 15
		}
		OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
	}
	character_event = { id = witchhunter.32 }
	}
	any_realm_lord = {
	limit = {
		OR = {
		martial = 15
		intrigue = 15
		}
		OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
	}
	character_event = { id = witchhunter.32 }
	}
	##vampires with less get destroyed##
	any_realm_character = {
	limit = {
		AND = {
		NOT = { martial = 15 }
		NOT = { intrigue = 15 }
		}
		OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
	}
	character_event = { id = witchhunter.33 }
	}
any_realm_lord = {
	limit = {
		AND = {
		NOT = { martial = 15 }
		NOT = { intrigue = 15 }
		}
		OR = {
		trait = vampire_lahmian_visible
		trait = vampire_carstein_visible
		trait = vampire_blood_visible
		trait = vampire_strigoi_visible
		trait = vampire_necrach_visible
		trait = vampire_jade_visible
		trait = vampire_mahtmasi_visible
		}
	}
	character_event = { id = witchhunter.33 }
	}	
	}
	
	option = {
	name = "No, leave them alone..."
	set_character_flag = vampires_allowed
	change_variable = { which = suspicion value = 9.0 } 
	}
	
	}
	
	
	##vampire hunters come, vampire escapes##
	character_event = {
    id = witchhunter.32
    title = "Vampire Hunters"
    desc = "Your top liege has ordered that open vampires in the realm be exterminated - temple armies led by Witch Hunters approach with fire and silver blades, but due to your skills you manage to escape them alive!"
    picture = "GFX_evt_beheading"	
	
	is_triggered_only = yes
	
	option = {
	name = "My lands... lost!"
	banish = yes
	}
	
	}
	
	##vampire hunters come, vampire escapes##
	character_event = {
    id = witchhunter.33
    title = "Vampire Hunters"
    desc = "Your top liege has ordered that open vampires in the realm be exterminated and temple armies led by Witch Hunters approach with fire and silver blades. You try to run, but they manage to corner you!"
    picture = "GFX_evt_beheading"	
	
	is_triggered_only = yes
	
	option = {
	name = "No, not like this - I was promised eternal life!"
		death = {
	death_reason = death_execution
	killer = FROM
	}
	}
	
	}