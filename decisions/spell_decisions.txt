#######################################
# 
# Here are spell casting decisions for
# PC player characters
#
# decision_open_spellbook -
# decison_close_spellbook
# decision_lore_<nameoflore>
# decision_lore_back
# 
# those decisions are used by players
# to select proper spells
#
# Flags:
# spellbook_open - to mark opened spellbok
# spell_lore_chosen - to mark chosen set of spells
# spell_lore_<name> - to mark particular set of spells
# 
######################################
decisions = {
    # TODO localize decisions
    # Open Spellbook (PC only)
    decision_open_spellbook = {
        potential = {
            ai = no
            OR = {
                trait = magic_power_adept
                trait = magic_power_magister
                trait = magic_power_lord
                trait = magic_power_archmaster
            }
            NOT = { trait = incapable }
            OR = {
                trait = lore_light
                trait = lore_beasts
                trait = lore_metal
                trait = lore_fire
                trait = lore_life
                trait = lore_shadows
                trait = lore_death
                trait = lore_heavens
                # non-human races lores
                trait = lore_high_magic
                # other human lores
                trait = lore_ice
                # chaos lores
                trait = lore_dark_magic
                trait = lore_nurgle
                trait = lore_slaanesh
                trait = lore_tzeentch
            }
            # Closing opening spellbook mechanics
            NOT = { has_character_flag = spellbook_open }
        }
        allow = {
            always = yes
        }
        effect = { 
            set_character_flag = spellbook_open
        }
    }
    decision_close_spellbook = {
        potential = {
            ai = no
            has_character_flag = spellbook_open
            # Closing opening spellbook mechanics
        }
        allow = {
            always = yes
        }
        effect = { 
            clr_character_flag = spellbook_open
        }
    }
    # END of close/open spellbok decisions
    #
    # Chose spells from ice lore (PC only)
    decision_lore_ice = {
        potential = {
            has_character_flag = spellbook_open 
            ai = no
            trait = lore_ice
        }
        allow = { always = yes }
        effect = { 
            character_event = { id = ice.0 }
        }
    }
    # Chose spells from light lore
    decision_lore_light = {
        potential = {
            has_character_flag = spellbook_open 
            ai = no
            trait = lore_light
        }
        allow = { always = yes }
        effect = { 
            character_event = { id = light.0 }
        }
    }
    # Chose spells from fire lore (PC only)
    decision_lore_fire = {
        potential = {
            has_character_flag = spellbook_open 
            ai = no
            trait = lore_fire
        }
        allow = { always = yes }
        effect = { 
            character_event = { id = fire.0 }
        }
    }
    # Chose spells from dark lore (PC only)
    decision_lore_dark = {
        potential = {
            has_character_flag = spellbook_open 
            ai = no
            trait = lore_dark_magic
        }
        allow = { always = yes }
        effect = { 
            character_event = { id = dark.0 }
        }
    }
}
